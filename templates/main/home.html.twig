{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('css/home.css') }}">
<link rel="stylesheet" href="{{ asset('css/main.css') }}">
{% endblock %}

{% block body %}

<header>
    <nav class="navbar">
        <button class="navbar__btn-asidebar"><img src="{{ asset('uploads/avatars/' ~ app.user.pictureFile) }}"
                alt="image avatar" class="navbar__avatar">
        </button>
        <div>
            {# {% include "search/searchBar.html.twig" %} #}
            <button class="navbar__btn-loupe">
                <img class="navbar__loupe" src="{{ asset('images/loupe-logo.png')}}" alt="logo loupe">
            </button>
        </div>
    </nav>
    <aside class="aside-navbar">
        <div>
            <img class="aside-navbar__avatar" src="{{ asset('uploads/avatars/' ~ app.user.pictureFile) }}"
                alt="image avatar">
            <p class="aside-navbar__username">{{ app.user.username }}</p>
            <div class="aside-navbar__profil"><a href="">Profil</a><img class="aside-navbar__logo"
                    src="{{ asset('images/profil-logo.png') }}" alt="logo profil"></div>
            <div class="aside-navbar__home"><a href="">Home</a><img class="aside-navbar__logo"
                    src="{{ asset('images/home-logo.png') }}" alt="logo home"></div>
            <div class="aside-navbar__add"><a href="">Ajouter</a><img class="aside-navbar__logo"
                    src="{{ asset('images/ajouter-logo.png') }}" alt="logo ajouter"></div>
        </div>

        <div class="aside-navbar__logout"><a href="{{ path('app_logout') }}">DÃ©connexion</a><img
                class="aside-navbar__logo" src="{{ asset('images/logout-logo.png') }}" alt="logo logout">
        </div>
    </aside>
    <div class="screen"></div>
</header>

<main class="home">

    <div class="filter">
        {% include "components/_filterCategory.html.twig" %}
    </div>

    <section class="fil-actualite">
        {% for seance in seances %}
        <article class="wrap-seance">
            <div class="wrap-seance__row-1">
                <div class="wrap-seance__flex">
                    <img class="wrap-seance__avatar" src="{{ asset('uploads/avatars/' ~ seance.user.pictureFile) }}"
                        alt="picture avatar">
                    <p class="wrap-seance__username">{{ seance.user.username }}</p>
                </div>
                <div>
                    <p class="wrap-seance__date" class="date">{{ seance.createAt | date('d/m/Y') }}</p>
                </div>
            </div>
            <a class="wrap-seance__profil" href="{{ path('show_workout', {'id': seance.id}) }}">
                <h5 class="wrap-seance__name">{{ seance.name }}</h5>
                <img class="wrap-seance__picture" src="{{ asset('uploads/picturesSeances/' ~ seance.pictureFile )}}"
                    alt="picture seance">
                <div class="wrap-seance__flex">
                    <div class="wrap-seance__flex">
                        {% include "components/_likesDislikes.html.twig" %}
                        <p class="wrap-seance__nb-like">{{ seance.likes | length}}</p>
                    </div>
                    <div class="wrap-seance__flex">
                        <img src="{{ asset('images/comment-logo.png') }}" alt="logo comment">
                        <p class="wrap-seance__nb-comment">{{ seance.comments | length}} </p>
                    </div>
                </div>
                <p class="wrap-seance__description">{{ seance.description }}</p>
            </a>
        </article>

        <section class="top-seance">
            <div >

            </div>
        </section>
        {% endfor %}

    </section>

</main>

{% endblock %}

{% block javascripts %}
<script>
    const btn = document.querySelector(".navbar__btn-asidebar");
    const aside = document.querySelector(".aside-navbar");
    const outsideElements = document.querySelectorAll(':not(.aside-navbar)');
    const screen = document.querySelector(".screen");

    btn.addEventListener("click", function () {
        aside.classList.toggle("aside-navbar--active");
        btn.classList.toggle("navbar__btn-asidebar--active");
        screen.classList.toggle("screen--active");
    });

    const body = document.querySelector("body");
    body.addEventListener("click", function (e) {
        if (!e.target.closest(".aside-navbar") && !e.target.closest(".navbar__btn-asidebar")) {
            aside.classList.remove("aside-navbar--active");
            btn.classList.remove("navbar__btn-asidebar--active");
            screen.classList.remove("screen--active");
        }
    });

 
</script>
{% endblock %}